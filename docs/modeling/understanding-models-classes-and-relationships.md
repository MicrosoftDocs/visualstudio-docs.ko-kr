---
title: 모델, 클래스 및 관계 이해
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Domain-Specific Language, models
author: JoshuaPartlow
ms.author: joshuapa
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: c2e8891307520ee841fbed1591565624f2016939
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/02/2020
ms.locfileid: "75565905"
---
# <a name="understanding-models-classes-and-relationships"></a>모델, 클래스 및 관계 이해
Dsl (도메인별 언어)은 사용자가 작성할 수 있는 사용자 지정 프로그램 코드와 함께 DSL 정의 파일에 의해 정의 됩니다. DSL 솔루션의 프로그램 코드 대부분은이 파일에서 생성 됩니다.

 이 항목에서는 DSL 정의의 중앙 기능에 대해 설명 합니다.

## <a name="the-dsl-definition"></a>DSL 정의
 `Dsl\DslDefinition.dsl`를 열면 Visual Studio 창이 다음 그림과 같이 표시 됩니다.

 ![dsl 디자이너](../modeling/media/dsl_designer.png)

 Dsl 정의의 가장 중요 한 정보는 DSL 정의 다이어그램에 표시 됩니다. Dsl 탐색기에 표시 되는 추가 정보는 일반적으로 다이어그램의 측면에 표시 됩니다. 가장 자주 사용 되는 작업과 DSL 탐색기를 사용 하 여 고급 사용자 지정을 위한 다이어그램 작업을 수행할 수 있습니다.

 DSL 정의 다이어그램은 모델 요소를 정의 하는 도메인 클래스와 모델 요소 간의 링크를 정의 하는 관계를 보여 줍니다. 또한 사용자에 게 모델 요소를 표시 하는 데 사용 되는 셰이프 및 연결선을 보여 줍니다.

 ![스윔 레인이 있는 dsl 디자이너](../modeling/media/dsl_desinger.png)

 다이어그램 또는 DSL 탐색기에서 DSL 정의의 항목을 선택 하면 속성 창에 대 한 정보가 표시 됩니다. 추가 정보는 DSL 세부 정보 창에 표시 될 수 있습니다.

### <a name="models-are-instances-of-dsls"></a>모델은 Dsl의 인스턴스입니다.
 *모델* 은 사용자가 만든 DSL의 인스턴스입니다. 모델에는 사용자가 정의 하는 도메인 클래스의 인스턴스인 모델 요소와 사용자가 정의 하는 도메인 관계의 인스턴스인 요소 간의 링크가 포함 되어 있습니다. 모델에는 다이어그램의 모델 요소와 링크를 표시 하는 모양 및 연결선도 포함 될 수 있습니다. DSL 정의에는 다이어그램에 대 한 도형 클래스, 연결선 클래스 및 클래스가 포함 되어 있습니다.

 DSL 정의를 *도메인 모델이*라고도 합니다. DSL 정의 또는 도메인 모델은 도메인별 언어의 디자인 타임 표현 이지만, 모델은 도메인별 언어의 런타임 인스턴스화입니다.

## <a name="domain-classes-define-model-elements"></a>도메인 클래스가 모델 요소를 정의 합니다.
 도메인 클래스는 도메인에 다양 한 요소를 만드는 데 사용 되 고 도메인 관계는 요소 간의 링크입니다. 디자인 타임에는 모델을 만들 때 디자인 관련 언어의 사용자가 인스턴스화할 요소와 링크를 디자인 타임에 표현한 것입니다.

 이 그림은 음악 라이브러리 DSL의 사용자가 만든 모델을 보여 줍니다. 음악 앨범은 노래 목록을 포함 하는 상자로 표시 됩니다. 음악가는 둥근 상자로 표현 되며, 제공 된 앨범에 연결 됩니다.

 ![생성된 DSL의 인스턴스 모델](../modeling/media/music_instance.png)

 DSL 정의는 두 가지 측면을 구분 합니다. 모델 다이어그램에서 모델 요소의 모양은 모양 클래스 및 연결선 클래스를 사용 하 여 정의 됩니다. 모델에 전달 되는 정보는 도메인 클래스 및 도메인 관계를 사용 하 여 정의 됩니다.

 다음 그림에서는 음악 라이브러리의 DSL 정의에서 도메인 클래스와 관계를 보여 줍니다.

 ![관계 포함 및 참조](../modeling/media/music_classes.png)

 그림은 음악, 앨범, 음악가 및 노래의 네 가지 도메인 클래스를 보여 줍니다. 도메인 클래스는 이름, 제목 등의 도메인 속성을 정의 합니다. 인스턴스 모델에서는 이러한 속성 중 일부의 값이 다이어그램에 표시 됩니다.

 클래스 사이에는 도메인 관계 (MusicHasAlbums, MusicHasArtists, AlbumbHasSongs 및 ArtistAppearedOnAlbums)가 있습니다. 관계에는 복합성 (예: 1 ..1, 0 ... *)가 있습니다. 예를 들어 모든 곡이 AlbumHasSongs 관계를 통해 정확히 하나의 앨범에 연결 되어야 합니다. 모든 앨범에는 원하는 수의 곡이 있을 수 있습니다.

### <a name="rearranging-the-dsl-definition-diagram"></a>DSL 정의 다이어그램 다시 정렬
 이 그림에서 앨범이 표시 되는 것 처럼 DSL 정의 다이어그램에서 도메인 클래스가 여러 번 나타날 수 있습니다. 항상 하나의 주 보기가 있으며 몇 가지 *참조* 뷰가 있을 수 있습니다.

 DSL 정의 다이어그램을 다시 정렬 하려면 다음을 수행할 수 있습니다.

- **여기로 트리 가져오기** 및 **트리 분할** 명령을 사용 하 여 주 뷰 및 참조 뷰를 바꿉니다. 단일 도메인 클래스를 마우스 오른쪽 단추로 클릭 하면 다음 명령이 표시 됩니다.

- Ctrl + Up 및 Ctrl + Down을 눌러 도메인 클래스 및 모양 클래스의 순서를 다시 조정 합니다.

- 각 모양의 오른쪽 위에 있는 아이콘을 사용 하 여 클래스를 축소 하거나 확장 합니다.

- 도메인 클래스의 맨 아래에 있는 빼기 기호 (-)를 클릭 하 여 트리의 일부를 축소 합니다.

## <a name="inheritance"></a>상속
 상속을 사용 하 여 도메인 클래스를 정의할 수 있습니다. 상속 파생을 만들려면 상속 도구를 클릭 하 고 파생 클래스를 클릭 한 다음 기본 클래스를 클릭 합니다. 모델 요소에는 기본 클래스에서 상속 된 모든 속성과 함께 자체 도메인 클래스에 정의 된 모든 속성이 있습니다. 또한 관계에서 해당 역할을 상속 합니다.

 관계, 모양 및 연결선 간에도 상속을 사용할 수 있습니다. 상속은 동일한 그룹 내에 유지 되어야 합니다. 셰이프는 도메인 클래스에서 상속할 수 없습니다.

## <a name="domain-relationships"></a>도메인 관계
 모델 요소는 관계로 연결할 수 있습니다. 링크는 항상 binary입니다. 정확히 두 개의 요소를 연결 합니다. 그러나 모든 요소는 다른 개체에 대 한 많은 링크를 포함할 수 있으며 동일한 요소 쌍 사이에 둘 이상의 링크가 있을 수 있습니다.

 다양 한 요소 클래스를 정의할 수 있는 것 처럼 다양 한 링크 클래스를 정의할 수 있습니다. 링크 클래스를 *도메인 관계*라고 합니다. 도메인 관계는 인스턴스에 연결할 수 있는 요소의 클래스를 지정 합니다. 관계의 각 끝을 *역할*이라고 하며, 도메인 관계는 두 역할의 이름과 관계 자체에 대 한 이름을 정의 합니다.

 도메인 관계에는 포함 관계와 참조 관계의 두 종류가 있습니다. DSL 정의 다이어그램에서 포함 관계는 각 역할에 실선을 가지 며 참조 관계에는 점선이 있습니다.

### <a name="embedding-relationships"></a>포함 관계
 루트를 제외한 모델의 모든 요소는 한 포함 링크의 대상입니다. 따라서 전체 모델은 포함 링크의 단일 트리를 형성 합니다. 포함 관계는 포함 또는 소유권을 나타냅니다. 이러한 방식으로 관련 된 두 모델 요소를 부모 및 자식이 라고도 합니다. 자식은 부모에 포함 된 것으로 간주 됩니다.

 일반적으로 포함 링크는 다이어그램에서 커넥터로 명시적으로 표시 되지 않습니다. 대신 일반적으로 포함으로 표시 됩니다. 모델의 루트는 다이어그램으로 표시 되 고 여기에 포함 된 요소는 다이어그램에서 도형으로 표시 됩니다.

 예제에서 루트 클래스 음악에는 AlbumHasSongs 포함 하는 MusicHasAlbums 포함 관계가 있습니다. 곡이 각 앨범 내의 목록에 항목으로 표시 됩니다. 또한 Music은 음악가 클래스에 대 한 포함 MusicHasArtists를 포함 하며,이는 해당 인스턴스가 다이어그램의 모양으로도 표시 됩니다.

 기본적으로 포함 된 요소는 부모 항목이 삭제 될 때 자동으로 삭제 됩니다.

 XML 형식으로 모델을 파일에 저장 하는 경우 serialization을 사용자 지정 하지 않은 경우 포함 된 요소가 부모 내부에 중첩 됩니다.

> [!NOTE]
> 포함은 상속과는 다릅니다. 포함 관계의 자식은 부모의 속성을 상속 하지 않습니다. 포함은 모델 요소 간의 링크 형식입니다. 상속은 클래스 간의 관계 이며 모델 요소 사이에 링크를 만들지 않습니다.

### <a name="embedding-rules"></a>포함 규칙
 인스턴스 모델의 모든 요소는 모델의 루트를 제외 하 고 정확히 하나의 포함 링크의 대상 이어야 합니다.

 따라서 루트 클래스를 제외한 모든 비추상 도메인 클래스는 하나 이상의 포함 관계의 대상 이거나 기본 클래스에서 포함을 상속 해야 합니다. 클래스는 둘 이상의 포함 대상이 될 수 있지만 인스턴스 모델 요소는 한 번에 하나의 부모만 가질 수 있습니다. 대상에서 원본으로의 복합성은 0 ..1 또는 1 ..1 이어야 합니다.

### <a name="the-explorer-displays-the-embedding-tree"></a>탐색기에 포함 트리가 표시 됩니다.
 DSL 정의는 사용자가 모델 다이어그램과 함께 표시 되는 탐색기도 만듭니다.

 ![생성된 DSL 탐색기](../modeling/media/music_explorer.png)

 셰이프를 정의 하지 않은 경우에도 탐색기에는 모델의 모든 요소가 표시 됩니다. 요소와 포함 관계를 표시 하지만 참조 관계는 표시 하지 않습니다.

 요소에 대 한 도메인 속성의 값을 확인 하기 위해 사용자는 모델 다이어그램이 나 모델 탐색기에서 요소를 선택 하 고 속성 창를 엽니다. 다이어그램에 표시 되지 않는 속성을 포함 하 여 모든 도메인 속성을 표시 합니다. 이 예에서는 각 노래의 제목과 장르를 모두 갖지만 제목 값만 다이어그램에 표시 됩니다.

## <a name="reference-relationships"></a>참조 관계
 참조 관계는 포함 되지 않는 모든 종류의 관계를 나타냅니다.

 참조 관계는 일반적으로 다이어그램에서 모양 간의 커넥터로 표시 됩니다.

 모델의 XML 표현에서 두 요소 간의 참조 링크는 모니커를 사용 하 여 표시 됩니다 *.* 즉, 모니커는 모델의 각 요소를 고유 하 게 식별 하는 이름입니다. 각 모델 요소에 대 한 XML 노드에는 다른 요소의 모니커와 관계의 이름을 지정 하는 노드가 포함 됩니다.

## <a name="roles"></a>역할
 모든 도메인 관계에는 원본 역할과 대상 역할의 두 역할이 있습니다.

 다음 그림에서 **게시자** 도메인 클래스와 **PublisherCatalog** 도메인 관계 사이의 줄은 원본 역할입니다. 도메인 관계와 **앨범** 도메인 클래스 사이의 줄은 대상 역할입니다.

 ![역할 및 속성](../modeling/media/propertycode.png)

 관계와 연결 된 이름은 모델을 트래버스하는 프로그램 코드를 작성할 때 특히 중요 합니다. 예를 들어 DSL 솔루션을 빌드하면 생성 된 클래스 게시자에는 앨범 컬렉션인 속성 카탈로그가 있습니다. 클래스 앨범에는 클래스 게시자의 단일 인스턴스인 속성 게시자가 있습니다.

 DSL 정의에서 관계를 만들 때 속성 및 관계 이름에 기본값이 지정 됩니다. 그러나이를 변경할 수 있습니다.

## <a name="multiplicities"></a>복합성
 복합성 도메인 관계에서 동일한 역할을 가질 수 있는 요소 수를 지정 합니다. 이 예제에서 카탈로그 역할에 대 한 일 대 다 (0 ... \* ) 다중성 설정은 **게시자** 도메인 **Catalog** 클래스의 모든 인스턴스가 **PublisherCatalog** 관계 링크를 제공할 수 있도록 지정 합니다.

 다이어그램에를 입력 하거나 `Multiplicity` **속성** 창에서 속성을 수정 하 여 역할의 복합성을 구성 합니다. 다음 표에서는이 속성에 대 한 설정을 설명 합니다.

|복합성 형식|설명|
|-|-|
|0.. * (0 ~ many)|도메인 클래스의 각 인스턴스에는 관계의 인스턴스를 여러 개 포함 하거나 관계 인스턴스를 사용할 수 없습니다.|
|0 ..1 (0-1)|도메인 클래스의 각 인스턴스에는 관계의 인스턴스를 둘 이상 포함 하거나 관계 인스턴스를 사용할 수 없습니다.|
|1 ~ 1 (1)|도메인 클래스의 각 인스턴스에는 관계의 인스턴스가 하나만 있을 수 있습니다. Role 클래스의 인스턴스에서는이 관계의 인스턴스를 둘 이상 만들 수 없습니다. 유효성 검사를 사용 하도록 설정 하면 role 클래스의 인스턴스에 관계 인스턴스가 없는 경우 유효성 검사 오류가 표시 됩니다.|
|1.. * (일 대 다)|이 다중성이 있는 역할에 있는 클래스의 각 인스턴스에는 관계의 여러 인스턴스가 있을 수 있으며, 각 인스턴스에는 적어도 하나 이상의 관계 인스턴스가 있어야 합니다. 유효성 검사를 사용 하도록 설정 하면 role 클래스의 인스턴스에 관계 인스턴스가 없는 경우 유효성 검사 오류가 표시 됩니다.|

## <a name="domain-relationships-as-classes"></a>도메인 관계 (클래스)
 링크는 저장소에서 ModelElement의 파생 클래스인 LinkElement의 인스턴스로 표시 됩니다. 도메인 관계에 대 한 도메인 모델 다이어그램에서 이러한 속성을 정의할 수 있습니다.

 다른 관계의 소스 또는 대상에 관계를 설정할 수도 있습니다. 도메인 모델 다이어그램에서 도메인 관계를 마우스 오른쪽 단추로 클릭 한 다음 **클래스로 표시**를 클릭 합니다. 추가 클래스 상자가 표시 됩니다. 그런 다음 관계를 연결할 수 있습니다.

 도메인 클래스를 사용할 때와 마찬가지로 상속을 통해 관계를 부분적으로 정의할 수 있습니다. 파생 관계를 선택 하 고 속성 창에서 **기본 관계** 를 설정 합니다.

 파생 관계는 기본 관계를 특수화 합니다. 이 클래스와 연결 된 도메인 클래스는 기본 관계에 의해 연결 된 클래스와 동일한 또는에서 파생 되어야 합니다. 파생 관계에 대 한 링크는 모델에서 생성 될 때 파생 된 관계와 기본 관계의 인스턴스입니다. 프로그램 코드에서 기본 또는 파생 클래스에 의해 생성 된 속성을 사용 하 여 링크의 반대쪽 끝으로 이동할 수 있습니다.

## <a name="see-also"></a>참조

- [도메인 특정 언어 도구 용어집](https://msdn.microsoft.com/ca5e84cb-a315-465c-be24-76aa3df276aa)
