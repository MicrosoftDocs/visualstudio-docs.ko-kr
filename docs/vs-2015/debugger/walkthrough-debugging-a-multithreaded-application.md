---
title: '연습: 다중 스레드 응용 프로그램 디버깅 | Microsoft Docs'
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- multithreaded debugging, walkthrough
- walkthroughs, multithreaded debugging
ms.assetid: 590ffd57-0556-43d8-8962-ee27e5b2b7d7
caps.latest.revision: 42
author: MikeJo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 33ce391523a256bcb195deccf0c14868b5eae707
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/02/2020
ms.locfileid: "65683088"
---
# <a name="walkthrough-debugging-a-multithreaded-application"></a>연습: 다중 스레드 애플리케이션 디버깅
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

[!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] 다중 스레드 응용 프로그램을 쉽게 디버깅할 수 있도록 향상 된 **스레드** 창과 기타 사용자 인터페이스 개선 기능을 제공 합니다. 이 연습은 몇 분 정도 소요되지만 연습을 완료하면 다중 스레드 애플리케이션 디버깅을 위한 새로운 인터페이스 기능에 익숙해질 수 있습니다.  
  
 이 연습을 시작하려면 다중 스레드 애플리케이션 프로젝트가 필요합니다. 여기에 나열된 단계에 따라 프로젝트를 만드십시오.  
  
#### <a name="to-create-the-walkthrough-project"></a>연습 프로젝트를 만들려면  
  
1. **파일** 메뉴에서 **새로 만들기** 를 선택한 다음 **프로젝트**를 클릭 합니다.  
  
     **새 프로젝트** 대화 상자가 나타납니다.  
  
2. **프로젝트 형식**상자에서 원하는 언어를 클릭 합니다. **Visual Basic**, **Visual c #** 또는 **Visual C++**.  
  
3. **템플릿** 상자에서 **콘솔 응용 프로그램** 또는 **CLR 콘솔 응용 프로그램**을 선택 합니다.  
  
4. **이름** 상자에 MyThreadWalkthroughApp 이름을 입력 합니다.  
  
5. **확인**을 클릭합니다.  
  
     새 콘솔 프로젝트가 나타납니다. 프로젝트가 만들어지면 소스 파일이 나타납니다. 선택한 언어에 따라 소스 파일 이름이 Module1.vb, Program.cs 또는 MyThreadWalkthroughApp.cpp일 수 있습니다.  
  
6. 소스 파일에 표시 되는 코드를 삭제 하 고 [시작 시 스레드를 만들고 데이터를 전달 하](https://msdn.microsoft.com/library/52b32222-e185-4f42-91a7-eaca65c0ab6d)는 항목의 "스레드 만들기" 섹션에 표시 되는 예제 코드로 바꿉니다.  
  
7. **파일** 메뉴에서 **모두 저장**을 클릭합니다.  
  
#### <a name="to-begin-the-walkthrough"></a>연습을 시작하려면  
  
- 소스 창에서 다음 코드를 찾습니다.  
  
    ```vb  
    Thread.Sleep(3000)   
    Console.WriteLine(  
    ```  
  
```csharp  
Thread.Sleep(3000);  
Console.WriteLine();  
```  
  
```cpp  
Thread::Sleep(3000);  
Console.WriteLine();  
```  
  
#### <a name="to-start-debugging"></a>디버깅을 시작하려면  
  
1. 문을 마우스 오른쪽 단추로 클릭 하 `Console.WriteLine` 고 **중단점** 을 가리킨 다음 **중단점 삽입**을 클릭 합니다.  
  
     소스 창 왼쪽의 여백에 빨간 공이 나타납니다. 이 공은 이 위치에 중단점이 설정되었음을 나타냅니다.  
  
2. **디버그** 메뉴에서 **디버깅 시작**을 클릭합니다.  
  
     디버깅을 시작하면 콘솔 애플리케이션이 실행되다가 중단점에서 중지됩니다.  
  
3. 이때 콘솔 애플리케이션 창에 포커스가 있으면 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] 창을 클릭하여 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)]로 포커스를 되돌립니다.  
  
4. 소스 창에서 다음 코드가 있는 줄을 찾습니다.  
  
    ```vb  
    Thread.Sleep(5000)   
    ```  
  
```csharp  
Thread.Sleep(3000);  
```  
  
```cpp  
Thread::Sleep(3000);  
```  
  
1. 
  
#### <a name="to-discover-the-thread-marker"></a>스레드 마커를 찾으려면  
  
1. **스레드** 창을 마우스 오른쪽 단추로 클릭 한 다음 **소스의 스레드 표시**를 클릭 합니다.  
  
2. 창 왼쪽의 여백을 확인합니다. 이 줄에는 실 모양 아이콘 두 개가 있습니다. 하나는 빨간색이고 다른 하나는 파란색입니다. 스레드 마커는 이 위치에서 스레드가 중지되었음을 나타냅니다. 스레드가 이 위치에서 중지되었을 수 있습니다.  
  
3. 스레드 마커에 포인터를 올려 놓습니다. DataTip이 나타납니다. DataTip을 통해 중지된 각 스레드의 이름과 스레드 ID 번호를 알 수 있습니다. 이 경우 이름이 `<noname>`인 스레드 한 개만 있습니다.  
  
4. 스레드 마커를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 선택 내용을 확인합니다.  
  
   이 아이콘은 *스레드 표식*입니다.  
  
   ![스레드 마커](../debugger/media/threadmarker.gif "ThreadMarker")  
  
## <a name="flagging-and-unflagging-threads"></a>스레드에 플래그 지정 및 해제  
 [!INCLUDE[vs_orcas_long](../includes/vs-orcas-long-md.md)]에서는 특히 주의할 스레드에 플래그를 지정할 수 있습니다. 스레드에 플래그를 지정하면 중요한 스레드를 추적하고 중요하지 않은 스레드는 무시할 수 있습니다.  
  
#### <a name="to-flag-threads"></a>스레드에 플래그를 지정하려면  
  
1. **보기** 메뉴에서 **도구 모음**을 가리킵니다.  
  
     **디버그 위치** 도구 모음이 선택 되어 있는지 확인 합니다.  
  
2. **디버깅 위치** 도구 모음으로 이동 하 여 **스레드** 목록을 클릭 합니다.  
  
    > [!NOTE]
    > **프로세스**, **스레드**및 **스택 프레임**의 세 가지 주요 목록을 통해이 도구 모음을 인식할 수 있습니다.  
  
3. 목록에 나타나는 스레드 수를 확인합니다.  
  
4. 소스 창으로 돌아가서 **스레드** 마커를 다시 마우스 오른쪽 단추로 클릭 합니다.  
  
5. 바로 가기 메뉴에서 **플래그**를 가리킨 다음 스레드 이름과 ID 번호를 클릭 합니다.  
  
6. **디버그 위치** 도구 모음으로 돌아가서 **스레드** 목록을 다시 클릭 합니다.  
  
     플래그가 지정된 스레드만 목록에 나타납니다. **스레드** 목록의 오른쪽에 있는 플래그 단추입니다. 이전에는 희미하게 표시되던 단추의 플래그 아이콘이 지금은 밝은 빨강으로 표시됩니다.  
  
7. 플래그 아이콘에 포인터를 올려 놓습니다.  
  
     팝업이 나타납니다. 이 팝업은 **스레드** 목록이 있는 모드를 알려 줍니다. **플래그가 지정 된 스레드만 표시**합니다.  
  
8. 플래그 단추를 클릭 하 여 **모든 스레드 표시** 모드로 다시 전환 합니다.  
  
9. **스레드** 목록을 다시 클릭 하 고 이제 모든 스레드를 다시 볼 수 있는지 확인 합니다.  
  
10. 플래그 단추를 클릭 하 여 **플래그가 지정 된 스레드만 표시**로 전환 합니다.  
  
11. **디버그** 메뉴에서 **창**을 가리킨 다음, **스레드**를 클릭합니다.  
  
     **스레드** 창이 표시 됩니다. 스레드 한 개에 중요한 플래그 아이콘이 연결되어 있습니다.  
  
12. 소스 창에서 스레드 마커를 다시 마우스 오른쪽 단추로 클릭합니다.  
  
     바로 가기 메뉴에서 선택할 수 있는 항목을 확인합니다. 플래그 대신 **플래그**지정 **이 표시 됩니다**. **플래그**해제를 클릭 하지 마십시오.  
  
13. 스레드의 플래그를 해제하기 위한 다음 절차로 이동합니다.  
  
#### <a name="to-unflag-threads"></a>스레드의 플래그를 해제하려면  
  
1. **스레드** 창에서 플래그가 지정 된 스레드에 해당 하는 줄을 마우스 오른쪽 단추로 클릭 합니다.  
  
     바로 가기 메뉴가 표시됩니다. **플래그** 해제 및 **모든 플래그**해제 옵션이 있습니다.  
  
2. 스레드의 플래그를 해제 하려면 **플래그**해제를 클릭 합니다.  
  
3. 빨간색 플래그 아이콘을 클릭합니다.  
  
4. **디버깅 위치** 도구 모음을 다시 확인 합니다. 플래그 단추가 다시 희미해집니다. 플래그가 지정된 스레드의 플래그만 해제됩니다. 플래그가 지정 된 스레드가 없으므로 도구 모음은 **모든 스레드 모드 표시** 로 돌아갑니다. **스레드** 목록을 클릭 하 고 모든 스레드가 표시 되는지 확인 합니다.  
  
5. **스레드** 창으로 돌아가서 정보 열을 검사 합니다.  
  
     각 열 맨 위의 단추에는 대부분 열을 식별하는 제목이 있습니다. 그러나 왼쪽 첫째 열에는 제목이 없습니다. 대신 플래그 윤곽선에 해당하는 아이콘이 있습니다. 스레드 목록의 각 행에도 같은 윤곽선이 있습니다. 이 윤곽선은 스레드의 플래그가 해제되었음을 나타냅니다.  
  
6. 목록 아래쪽에서 둘째 스레드와 셋째 스레드의 플래그 윤곽선을 클릭합니다.  
  
     플래그 아이콘은 빈 윤곽선 대신 빨간색으로 변합니다.  
  
7. 플래그 열 맨 위의 단추를 클릭합니다.  
  
     단추를 클릭하면 스레드 목록의 순서가 변경됩니다. 스레드 목록은 플래그가 지정된 스레드가 맨 위에 오도록 정렬됩니다.  
  
8. 플래그 열 맨 위의 단추를 다시 클릭합니다.  
  
     정렬 순서가 다시 변경됩니다.  
  
## <a name="more-about-the-threads-window"></a>스레드 창에 대한 추가 정보  
  
#### <a name="to-learn-more-about-the-threads-window"></a>스레드 창에 대해 자세히 알아 보려면  
  
1. **스레드** 창에서 왼쪽의 세 번째 열을 검사 합니다. 이 열의 맨 위에 있는 단추는 **ID**를 표시 합니다.  
  
2. **ID**를 클릭 합니다.  
  
     스레드 목록이 스레드 ID 번호순으로 정렬됩니다.  
  
3. 목록의 스레드를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 **16 진수 표시**를 클릭 합니다.  
  
     스레드 ID 번호 형식이 변경됩니다.  
  
4. 목록의 스레드에 마우스 포인터를 올려 놓습니다.  
  
     잠시 후 DataTip이 나타납니다. 여기에 스레드의 부분 호출 스택이 표시됩니다.  
  
5. 왼쪽의 네 번째 열에서 **Category**라는 레이블이 지정 된 열을 확인 합니다. 스레드가 범주로 분류되어 있습니다.  
  
     프로세스에서 만든 첫째 스레드를 주 스레드라고 합니다. 스레드 목록에서 주 스레드를 찾습니다.  
  
6. 주 스레드를 마우스 오른쪽 단추로 클릭 하 고 **스레드로 전환을**클릭 합니다.  
  
     경고 대화 상자가 나타납니다. 이 대화 상자에서 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)]가 주 스레드의 소스 코드를 표시할 수 없음을 알 수 있습니다.  
  
     **확인**을 클릭합니다.  
  
7. **호출 스택** 창 및 **디버그 위치** 도구 모음을 살펴봅니다.  
  
     **호출 스택** 창의 내용이 변경 되었습니다.  
  
## <a name="switching-the-active-thread"></a>활성 스레드 전환  
  
#### <a name="to-switch-threads"></a>스레드를 전환하려면  
  
1. **스레드** 창에서 왼쪽에 있는 두 번째 열을 검사 합니다. 이 열의 맨 위에 있는 단추에는 텍스트나 아이콘이 없습니다. 이 열은 **활성 스레드** 열입니다.  
  
2. **활성 스레드** 열을 확인 하 고 하나의 스레드에 노란색 화살표가 있음을 확인 합니다. 이는 *활성 스레드 표시기*입니다.  
  
3. 활성 스레드 표시기가 있는 스레드 ID 번호를 메모합니다. 활성 스레드 표시기를 다른 스레드로 이동하겠지만 작업이 끝나면 다시 돌려 놓아야 합니다.  
  
4. 다른 스레드를 마우스 오른쪽 단추로 클릭 한 다음 **스레드로 전환을**클릭 합니다.  
  
5. 소스 창에서 **호출 스택** 창을 확인 합니다. 내용이 변경되었습니다.  
  
6. **디버그 위치** 도구 모음을 살펴봅니다. 여기서도 활성 스레드가 변경되었습니다.  
  
7. **디버그 위치** 도구 모음으로 이동 합니다. **스레드** 상자를 클릭 하 고 드롭다운 목록에서 다른 스레드를 선택 합니다.  
  
8. **스레드** 창을 확인 합니다. 활성 스레드 표시기가 변경되었습니다.  
  
9. 소스 창에서 스레드 마커를 마우스 오른쪽 단추로 클릭합니다. 바로 가기 메뉴에서 다음 **으로 전환** 을 가리키고 스레드 이름/i d 번호를 클릭 합니다.  
  
     이제 **스레드** 창, **디버그 위치** 도구 모음의 **스레드** 상자 및 소스 창의 스레드 표시기를 사용 하 여 활성 스레드를 변경 하는 세 가지 방법을 살펴보았습니다.  
  
     스레드 표시기를 사용하면 특정 위치에서 중지된 스레드로만 전환할 수 있습니다. **스레드** 창 및 **디버그 위치** 도구 모음을 사용하면 임의의 스레드로 전환할 수 있습니다.  
  
## <a name="freezing-and-thawing-thread-execution"></a>스레드 실행 중지 및 재개  
  
#### <a name="to-freeze-and-unfreeze-threads"></a>스레드를 중지 및 해제하려면  
  
1. **스레드** 창에서 스레드를 마우스 오른쪽 단추로 클릭 한 다음 **고정**을 클릭 합니다.  
  
2. 활성 스레드 열을 확인합니다. 세로 막대 쌍이 나타납니다. 이 두 개의 파란색 막대는 스레드가 중지되었음을 나타냅니다.  
  
3. **일시 중단** 열을 확인 합니다. 스레드의 일시 중단 횟수가 1입니다.  
  
4. 고정 된 스레드를 마우스 오른쪽 단추로 클릭 한 다음 **재개**를 클릭 합니다.  
  
     활성 스레드 열과 **일시 중단** 열이 변경 됩니다.  
  
## <a name="see-also"></a>관련 항목  
 [다중 스레드 응용 프로그램 디버그](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [방법: 디버깅 중 다른 스레드로 전환](../debugger/how-to-switch-to-another-thread-while-debugging.md)
